{
  "info": {
    "_postman_id": "ai-chat-ddd-collection-v2",
    "name": "AI Chat DDD Clean Architecture API",
    "description": "Complete API collection for the AI Chat subscription bundle system with DDD Clean Architecture",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3001",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "refreshToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "adminAccessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "bundleTierId",
      "value": "",
      "type": "string"
    },
    {
      "key": "subscriptionId",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Auth",
      "description": "Authentication endpoints - Register, Login, Refresh Token, Reset Password (Admin)",
      "item": [
        {
          "name": "Register - New User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"Password123\",\n  \"phone\": \"+1234567890\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            }
          },
          "response": []
        },
        {
          "name": "Register - Admin User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"AdminPass123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            }
          },
          "response": []
        },
        {
          "name": "Register - Invalid Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"invalid-email\",\n  \"password\": \"Password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            }
          },
          "response": []
        },
        {
          "name": "Register - Weak Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user2@example.com\",\n  \"password\": \"weak\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            }
          },
          "response": []
        },
        {
          "name": "Login - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.data && jsonData.data.accessToken) {",
                  "    pm.collectionVariables.set('accessToken', jsonData.data.accessToken);",
                  "    pm.collectionVariables.set('refreshToken', jsonData.data.refreshToken);",
                  "    pm.collectionVariables.set('userId', jsonData.data.user.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"Password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Login - Admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.data && jsonData.data.accessToken) {",
                  "    pm.collectionVariables.set('adminAccessToken', jsonData.data.accessToken);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"AdminPass123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Login - Invalid Credentials",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"WrongPassword123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Login - Non-existent User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"nonexistent@example.com\",\n  \"password\": \"Password123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Refresh Token - Success",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "if (jsonData.data && jsonData.data.accessToken) {",
                  "    pm.collectionVariables.set('accessToken', jsonData.data.accessToken);",
                  "    pm.collectionVariables.set('refreshToken', jsonData.data.refreshToken);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "refresh"]
            }
          },
          "response": []
        },
        {
          "name": "Refresh Token - Invalid Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"invalid-refresh-token\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "refresh"]
            }
          },
          "response": []
        },
        {
          "name": "Reset Password - Admin Only",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"newPassword\": \"NewPassword123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/reset-password",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "reset-password"]
            }
          },
          "response": []
        },
        {
          "name": "Reset Password - Non-Admin (Forbidden)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"newPassword\": \"NewPassword123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/reset-password",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "reset-password"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Users",
      "description": "User management endpoints",
      "item": [
        {
          "name": "Get Current User (Me)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["users", "me"]
            }
          },
          "response": []
        },
        {
          "name": "Update Current User (Me)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+9876543210\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/me",
              "host": ["{{baseUrl}}"],
              "path": ["users", "me"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Users - Admin Only",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/",
              "host": ["{{baseUrl}}"],
              "path": ["users", ""]
            }
          },
          "response": []
        },
        {
          "name": "Get User Stats - Admin Only",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/get-user-stats/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "get-user-stats", "{{userId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get User By ID - Admin Only",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update User - Admin Only",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+1111111111\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete User - Admin Only (Soft Delete)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{userId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Users - Non-Admin (Forbidden)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/",
              "host": ["{{baseUrl}}"],
              "path": ["users", ""]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Bundle Tiers",
      "description": "Bundle tier management endpoints",
      "item": [
        {
          "name": "Get All Bundle Tiers (Public - Active Only)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/bundle-tiers/",
              "host": ["{{baseUrl}}"],
              "path": ["bundle-tiers", ""]
            }
          },
          "response": []
        },
        {
          "name": "Get Bundle Tier By ID (Public)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/bundle-tiers/{{bundleTierId}}",
              "host": ["{{baseUrl}}"],
              "path": ["bundle-tiers", "{{bundleTierId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Bundle Tiers - Admin (Include Inactive)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/bundle-tiers/admin/all",
              "host": ["{{baseUrl}}"],
              "path": ["bundle-tiers", "admin", "all"]
            }
          },
          "response": []
        },
        {
          "name": "Create Bundle Tier - Basic Plan",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["var jsonData = pm.response.json();", "if (jsonData.data && jsonData.data.id) {", "    pm.collectionVariables.set('bundleTierId', jsonData.data.id);", "}"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Basic Plan\",\n  \"maxMessages\": 100,\n  \"priceMonthly\": \"9.99\",\n  \"priceYearly\": \"99.99\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/bundle-tiers/",
              "host": ["{{baseUrl}}"],
              "path": ["bundle-tiers", ""]
            }
          },
          "response": []
        },
        {
          "name": "Create Bundle Tier - Pro Plan",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Pro Plan\",\n  \"maxMessages\": 500,\n  \"priceMonthly\": \"29.99\",\n  \"priceYearly\": \"299.99\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/bundle-tiers/",
              "host": ["{{baseUrl}}"],
              "path": ["bundle-tiers", ""]
            }
          },
          "response": []
        },
        {
          "name": "Create Bundle Tier - Unlimited Plan",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Unlimited Plan\",\n  \"maxMessages\": -1,\n  \"priceMonthly\": \"99.99\",\n  \"priceYearly\": \"999.99\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/bundle-tiers/",
              "host": ["{{baseUrl}}"],
              "path": ["bundle-tiers", ""]
            }
          },
          "response": []
        },
        {
          "name": "Create Bundle Tier - Invalid Data (Missing Name)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"maxMessages\": 100,\n  \"priceMonthly\": \"9.99\",\n  \"priceYearly\": \"99.99\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/bundle-tiers/",
              "host": ["{{baseUrl}}"],
              "path": ["bundle-tiers", ""]
            }
          },
          "response": []
        },
        {
          "name": "Create Bundle Tier - Non-Admin (Forbidden)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Test Plan\",\n  \"maxMessages\": 50,\n  \"priceMonthly\": \"5.99\",\n  \"priceYearly\": \"59.99\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/bundle-tiers/",
              "host": ["{{baseUrl}}"],
              "path": ["bundle-tiers", ""]
            }
          },
          "response": []
        },
        {
          "name": "Update Bundle Tier",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Basic Plan Updated\",\n  \"priceMonthly\": \"12.99\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/bundle-tiers/{{bundleTierId}}",
              "host": ["{{baseUrl}}"],
              "path": ["bundle-tiers", "{{bundleTierId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update Bundle Tier - Deactivate",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"isActive\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/bundle-tiers/{{bundleTierId}}",
              "host": ["{{baseUrl}}"],
              "path": ["bundle-tiers", "{{bundleTierId}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Bundle Tier (Soft Delete)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/bundle-tiers/{{bundleTierId}}",
              "host": ["{{baseUrl}}"],
              "path": ["bundle-tiers", "{{bundleTierId}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Subscriptions",
      "description": "Subscription management endpoints",
      "item": [
        {
          "name": "Get My Subscriptions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/subscriptions/",
              "host": ["{{baseUrl}}"],
              "path": ["subscriptions", ""]
            }
          },
          "response": []
        },
        {
          "name": "Get My Subscriptions - Active Only",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/subscriptions/?active=true",
              "host": ["{{baseUrl}}"],
              "path": ["subscriptions", ""],
              "query": [
                {
                  "key": "active",
                  "value": "true"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get My Quota Info",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/subscriptions/quota",
              "host": ["{{baseUrl}}"],
              "path": ["subscriptions", "quota"]
            }
          },
          "response": []
        },
        {
          "name": "Subscribe - Monthly",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": ["var jsonData = pm.response.json();", "if (jsonData.data && jsonData.data.id) {", "    pm.collectionVariables.set('subscriptionId', jsonData.data.id);", "}"],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bundleTierId\": \"{{bundleTierId}}\",\n  \"billingCycle\": \"monthly\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/subscriptions/",
              "host": ["{{baseUrl}}"],
              "path": ["subscriptions", ""]
            }
          },
          "response": []
        },
        {
          "name": "Subscribe - Yearly",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bundleTierId\": \"{{bundleTierId}}\",\n  \"billingCycle\": \"yearly\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/subscriptions/",
              "host": ["{{baseUrl}}"],
              "path": ["subscriptions", ""]
            }
          },
          "response": []
        },
        {
          "name": "Subscribe - Invalid Bundle Tier",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bundleTierId\": \"00000000-0000-0000-0000-000000000000\",\n  \"billingCycle\": \"monthly\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/subscriptions/",
              "host": ["{{baseUrl}}"],
              "path": ["subscriptions", ""]
            }
          },
          "response": []
        },
        {
          "name": "Subscribe - Invalid Billing Cycle",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bundleTierId\": \"{{bundleTierId}}\",\n  \"billingCycle\": \"weekly\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/subscriptions/",
              "host": ["{{baseUrl}}"],
              "path": ["subscriptions", ""]
            }
          },
          "response": []
        },
        {
          "name": "Subscribe - Duplicate (Already Subscribed)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bundleTierId\": \"{{bundleTierId}}\",\n  \"billingCycle\": \"monthly\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/subscriptions/",
              "host": ["{{baseUrl}}"],
              "path": ["subscriptions", ""]
            }
          },
          "response": []
        },
        {
          "name": "Toggle Auto Renewal - Disable",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/subscriptions/{{subscriptionId}}/auto-renewal",
              "host": ["{{baseUrl}}"],
              "path": ["subscriptions", "{{subscriptionId}}", "auto-renewal"]
            }
          },
          "response": []
        },
        {
          "name": "Toggle Auto Renewal - Enable",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/subscriptions/{{subscriptionId}}/auto-renewal",
              "host": ["{{baseUrl}}"],
              "path": ["subscriptions", "{{subscriptionId}}", "auto-renewal"]
            }
          },
          "response": []
        },
        {
          "name": "Toggle Auto Renewal - Other User's Subscription (Forbidden)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/subscriptions/{{subscriptionId}}/auto-renewal",
              "host": ["{{baseUrl}}"],
              "path": ["subscriptions", "{{subscriptionId}}", "auto-renewal"]
            }
          },
          "response": []
        },
        {
          "name": "Cancel Subscription",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/subscriptions/{{subscriptionId}}/cancel",
              "host": ["{{baseUrl}}"],
              "path": ["subscriptions", "{{subscriptionId}}", "cancel"]
            }
          },
          "response": []
        },
        {
          "name": "Cancel Subscription - Already Cancelled",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/subscriptions/{{subscriptionId}}/cancel",
              "host": ["{{baseUrl}}"],
              "path": ["subscriptions", "{{subscriptionId}}", "cancel"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Chat",
      "description": "Chat/AI messaging endpoints",
      "item": [
        {
          "name": "Ask Question - Success",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"What is the capital of France?\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/chat/ask-question",
              "host": ["{{baseUrl}}"],
              "path": ["chat", "ask-question"]
            }
          },
          "response": []
        },
        {
          "name": "Ask Question - Long Query",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"Can you explain the theory of relativity in simple terms? I want to understand both special and general relativity, their key principles, and how they differ from classical mechanics. Please provide examples.\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/chat/ask-question",
              "host": ["{{baseUrl}}"],
              "path": ["chat", "ask-question"]
            }
          },
          "response": []
        },
        {
          "name": "Ask Question - Empty Query (Invalid)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/chat/ask-question",
              "host": ["{{baseUrl}}"],
              "path": ["chat", "ask-question"]
            }
          },
          "response": []
        },
        {
          "name": "Ask Question - No Auth (Unauthorized)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"query\": \"Hello?\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/chat/ask-question",
              "host": ["{{baseUrl}}"],
              "path": ["chat", "ask-question"]
            }
          },
          "response": []
        },
        {
          "name": "Get My Messages - Default Pagination",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/chat/messages",
              "host": ["{{baseUrl}}"],
              "path": ["chat", "messages"]
            }
          },
          "response": []
        },
        {
          "name": "Get My Messages - With Pagination",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/chat/messages?page=1&size=10",
              "host": ["{{baseUrl}}"],
              "path": ["chat", "messages"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "size",
                  "value": "10"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get My Messages - Filter by Status (Completed)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/chat/messages?status=completed",
              "host": ["{{baseUrl}}"],
              "path": ["chat", "messages"],
              "query": [
                {
                  "key": "status",
                  "value": "completed"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get My Messages - Filter by Status (Failed)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/chat/messages?status=failed",
              "host": ["{{baseUrl}}"],
              "path": ["chat", "messages"],
              "query": [
                {
                  "key": "status",
                  "value": "failed"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get My Messages - Filter by Status (Pending)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/chat/messages?status=pending",
              "host": ["{{baseUrl}}"],
              "path": ["chat", "messages"],
              "query": [
                {
                  "key": "status",
                  "value": "pending"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get My Messages - Invalid Status",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/chat/messages?status=invalid",
              "host": ["{{baseUrl}}"],
              "path": ["chat", "messages"],
              "query": [
                {
                  "key": "status",
                  "value": "invalid"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get My Messages - Pagination + Status Filter",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/chat/messages?page=1&size=5&status=completed",
              "host": ["{{baseUrl}}"],
              "path": ["chat", "messages"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "size",
                  "value": "5"
                },
                {
                  "key": "status",
                  "value": "completed"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "List User Messages - Admin Only",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/chat/list-user-messages/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["chat", "list-user-messages", "{{userId}}"]
            }
          },
          "response": []
        },
        {
          "name": "List User Messages - Admin With Pagination",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{adminAccessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/chat/list-user-messages/{{userId}}?page=1&size=10&status=completed",
              "host": ["{{baseUrl}}"],
              "path": ["chat", "list-user-messages", "{{userId}}"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "size",
                  "value": "10"
                },
                {
                  "key": "status",
                  "value": "completed"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "List User Messages - Non-Admin (Forbidden)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/chat/list-user-messages/{{userId}}",
              "host": ["{{baseUrl}}"],
              "path": ["chat", "list-user-messages", "{{userId}}"]
            }
          },
          "response": []
        }
      ]
    }
  ]
}
